<head>
    <title>How to install it</title>
    <date>11/14/2020</date>
    <summary>How to install SiestaCMS in your local machine.</summary>
    <image></image>
</head>
<body format="html">
    <h3>Dependencies</h3>
    <p>You'll need:</p>
    <ul>
        <li>Docker</li>
        <li>Docker Compose</li>
        <li>AWS credentials in <tt>~/.aws</tt> or environment variables</li>
    </ul>
    <h3>Local setup</h3>
    <p>To install SiestaCMS in your computer:</p>
    <ol>
        <li>Clone the repo with <tt>git clone https://github.com/nosolopau/siestacms</tt>.</li>
        <li>Change to <tt>siestacms</tt> directory with <tt>cd siestacms</tt>.</li>
        <li>Create an <tt>.env</tt> file manually or by running <tt>make envfile</tt>.</li>
        <li>Install the dependencies: <tt>make deps</tt>.</li>
        <li>Run it locally with: <tt>make server</tt>. A local server will be launched in your port 3000.</li>
        <li>Browse localhost:3000.</li>
    </ol>
    <h3>Deploy</h3>
    <p>If you want to deploy your own distribution, you'll need an AWS account configured in your environment file or in your <tt>~/.aws</tt> folder. Then, just run:</p>
    <pre>
        make deploy</pre>
    <p>The Serverless install will run and you'll get the URL for your lambda function</p>
    <h4>Custom domains</h4>
    <p>This configuration is a bit tricky so be ready to SUFFER. I didn't include <tt>Make</tt> commands for this purpose as I assume only a few people will need it.</p>
    <p>To use your own domain, uncomment section <tt>customDomain</tt> in the <tt>serverless.yml</tt> file, and run:</p>
    <pre>
        make shell</pre>
    <p>This will open a shell inside a Docker container</p>
    <p>In the shell, run:</p>
    <pre>
        sls create_domain --stage=&lt;STAGE&gt;
        sls deploy --stage=&lt;STAGE&gt;</pre>
    
</body>